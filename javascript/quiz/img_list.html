<?xml version="1.0"?>
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>첫번째 실습</title>
    <style>
        table {
            border-collapse: collapse;
        }

        table,
        th,
        td {
            border: 1px solid #222;
        }
    </style>
</head>

<body>
    <section>
        <h1>이미지리스트 선택</h1>
        <img src="https://image.shutterstock.com/image-illustration/abstract-fluid-iridescent-holographic-neon-260nw-2236471471.jpg"
            style="width: 300px; height: 300px" alt="big img" id="bigImg" />
        <ul id="imgList">
            <li>
                <img src="https://image.shutterstock.com/image-illustration/abstract-fluid-iridescent-holographic-neon-260nw-2236471471.jpg"
                    class="small" style="width: 50px; height: 50px" />
            </li>
            <li>
                <img src="https://image.shutterstock.com/image-vector/wave-particles-abstract-background-dynamic-260nw-1079462459.jpg"
                    class="small" style="width: 50px; height: 50px" />
            </li>
            <li>
                <img src="https://image.shutterstock.com/image-vector/minimalist-trendy-abstract-pattern-modern-260nw-2010331265.jpg"
                    class="small" style="width: 50px; height: 50px" />
            </li>
        </ul>
    </section>
    <script>
        let small = document.querySelectorAll("#imgList > li > .small");
        small.forEach((element) => {
            element.addEventListener("click", imgClick)
        })
        // for(let i=0; i<small.length; i++) {
        //     small[i].addEventListener("click", imgClick)
        // }

        function imgClick() {
            document.getElementById("bigImg").setAttribute("src", this.src)
            console.log(this)
        }

        // for (let i = 0; i < small.length; i++) {
        //     small[i].addEventListener("click", function (event) {
        //         imgClick(event.target);
        //     });
        // }

        // function imgClick(par) {
        //     document.getElementById("bigImg").setAttribute("src", par.src);
        // }
    </script>

    <hr />
    <section>
        <h1>리스트 추가하기</h1>
        <input type="text" id="myText" />
        <button id="btnAdd">리스트 추가</button>
        <ul id="myList"></ul>
    </section>

    <script>
        document.getElementById("btnAdd").addEventListener("click", function () {
            let myText = document.getElementById("myText").value;
            let myLi = document.createElement("li");
            // let liText = document.createTextNode(myText);
            myLi.textContent = myText
            let btnDel = document.createElement("button");
            // let btnDelText = document.createTextNode("리스트 삭제");
            btnDel.textContent = "리스트 삭제"
            // btnDel.appendChild(btnDelText);
            // myLi.appendChild(liText);
            myLi.appendChild(btnDel);
            document.getElementById("myList").insertBefore(myLi, document.getElementById("myList").childNodes[0]);

            btnDel.addEventListener('click', function(){
                console.log(this.parentNode)
                myLi.parentNode.removeChild(myLi);
            })
            // let allBtn = document.querySelectorAll("#myList button");
            // allBtnArr.forEach((item) =>{
            //     item.addEventListener('click', function(){
            //         // if(this.parentNode.parentNode) {
            //             console.log('click')
            //             this.parentNode.parentNode.removeChild(this.parentNode);
            //         // }
            //     })
            // })
            // for(let i of allBtn){
            //     allBtn[i].addEventListener('click', function(){
            //         //if(this.parentNode.parentNode) {
            //             console.log('click')
            //             this.parentNode.parentNode.removeChild(this.parentNode);
            //         //}
            //     })
            // }

            //if를 삭제할때 에러 
            // 이벤트 등록(addEventListener) 을 forEach() 에서 했음으로..
            // 하나의 객체에 이벤트가 여러번 등록되게 됩니다.
            // 즉 하나의 항목에 한번만 이벤트가 등록되는 것이 아니라..
            // 여러번 등록되다 보니 나는 에러입니다.
        });
    </script>
</body>

</html>